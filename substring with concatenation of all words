class Solution(object):
    def findSubstring(self, s, words):
        """
        :type s: str
        :type words: List[str]
        :rtype: List[int]
        """
        if not words or not s:
            return[]
        
        word_len = len(words[0])
        num_words = len(words)
        total_len = word_len * num_words
        word_count = {}
        for word in words:
            word_count[word] = word_count.get(word, 0) + 1
        
        result = []
        for i in range(len(s) - total_len + 1):
            seen = {}
            for j in range(num_words):
                word = s[i + j * word_len : i + (j + 1) * word_len]
                if word not in word_count or seen.get(word, 0) >= word_count[word]:
                    break
                seen[word] = seen.get(word, 0) + 1
            else:
                if all(seen.get(w, 0) == word_count[w] for w in word_count):
                    result.append(i)
        
        return result
        
